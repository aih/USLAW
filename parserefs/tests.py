# -*- coding: utf-8 -*-
import unittest
import autoparser

class TestAutoParserFunctions(unittest.TestCase):
    
    def test_section(self):
        test_strings = ["This Act [enacting section 8 of this title] may be cited as the Born-Alive Infants Protection Act of 2002",
                        "(1) every married individual (as defined in section 7703) who makes a single return jointly with his spouse under section 6013, and",
                        "There is hereby imposed on the taxable income of every individual (other than a surviving spouse as defined in section 2(a) or the head of a household as defined in section 2(b)) who is not a married individual (as defined in section 7703) a tax determined in accordance with the following table",
                        "[Pub. L. 107–147, title IV, §414(b), Mar. 9, 2002, 116 Stat. 54, provided that: “The amendments made by this section [amending section 311(e) of Pub. L. 105–34, set out above] shall take effect as if included in section 311 of the Taxpayer Relief Act of 1997 [Pub. L. 105–34].”]",
                        "Provisions relating to inflation adjustment of items in sections 1, 24, 25A, 25B, 32, 36C, 42, 59, 63, 68, 132, 135, 137, 146, 147, 151, 179, 213, 219, 220, 221, 223, 408A, 512, 513, 685, 877, 877A, 911, 2032A, 2503, 2523, 2631, 4001, 4003, 4161, 4261, 6012, 6013, 6033, 6039F, 6323, 6334, 6601, 7430, and 7702B of this title for certain years were contained in the following: ",
                        "(II) the greater of the amount described in subclause (I) or, if the child itemizes his deductions for the taxable year, the amount of the itemized deductions allowed by this chapter for the taxable year which are directly connected with the production of the portion of adjusted gross income referred to in clause (i)."
                        ]
        results = ['This Act [enacting section <a href="/laws/target/ref-title-this/8" class="sec">8</a> of <a href="/laws/target/ref-title-this/">this title</a>] may be cited as the Born-Alive Infants Protection Act of 2002',
                   '(1) every married individual (as defined in section <a href="/laws/target/ref-title-this/7703" class="sec">7703</a>) who makes a single return jointly with his spouse under section <a href="/laws/target/ref-title-this/6013" class="sec">6013</a>, and',
                   'There is hereby imposed on the taxable income of every individual (other than a surviving spouse as defined in section <a href="/laws/target/ref-title-this/2(a)" class="sec">2(a)</a> or the head of a household as defined in section <a href="/laws/target/ref-title-this/2(b)" class="sec">2(b)</a>) who is not a married individual (as defined in section <a href="/laws/target/ref-title-this/7703" class="sec">7703</a>) a tax determined in accordance with the following table',
                   '[Pub. L. 107–147, title IV, §414(b), Mar. 9, 2002, 116 Stat. 54, provided that: \xe2\x80\x9cThe amendments made by this section [amending section <a href="/laws/target/ref-title-this/311(e)" class="sec">311(e)</a> of Pub. L. 105\xe2\x80\x9334, set out above] shall take effect as if included in section <a href="/laws/target/ref-namedact-Taxpayer Relief Act of 1997/311" class="sec">311</a> of the <a class="Act-cite Act-title" href="/laws/target/ref-namedact-Taxpayer Relief Act of 1997/">Taxpayer Relief Act of 1997</a> [Pub. L. 105\xe2\x80\x9334].\xe2\x80\x9d]',
                   'Provisions relating to inflation adjustment of items in sections <a href="/laws/target/ref-title-this/1" class="sec">1</a>, <a href="/laws/target/ref-title-this/24" class="sec">24</a>, <a href="/laws/target/ref-title-this/25A" class="sec">25A</a>, <a href="/laws/target/ref-title-this/25B" class="sec">25B</a>, <a href="/laws/target/ref-title-this/32" class="sec">32</a>, <a href="/laws/target/ref-title-this/36C" class="sec">36C</a>, <a href="/laws/target/ref-title-this/42" class="sec">42</a>, <a href="/laws/target/ref-title-this/59" class="sec">59</a>, <a href="/laws/target/ref-title-this/63" class="sec">63</a>, <a href="/laws/target/ref-title-this/68" class="sec">68</a>, <a href="/laws/target/ref-title-this/132" class="sec">132</a>, <a href="/laws/target/ref-title-this/135" class="sec">135</a>, <a href="/laws/target/ref-title-this/137" class="sec">137</a>, <a href="/laws/target/ref-title-this/146" class="sec">146</a>, <a href="/laws/target/ref-title-this/147" class="sec">147</a>, <a href="/laws/target/ref-title-this/151" class="sec">151</a>, <a href="/laws/target/ref-title-this/179" class="sec">179</a>, <a href="/laws/target/ref-title-this/213" class="sec">213</a>, <a href="/laws/target/ref-title-this/219" class="sec">219</a>, <a href="/laws/target/ref-title-this/220" class="sec">220</a>, <a href="/laws/target/ref-title-this/221" class="sec">221</a>, <a href="/laws/target/ref-title-this/223" class="sec">223</a>, <a href="/laws/target/ref-title-this/408A" class="sec">408A</a>, <a href="/laws/target/ref-title-this/512" class="sec">512</a>, <a href="/laws/target/ref-title-this/513" class="sec">513</a>, <a href="/laws/target/ref-title-this/685" class="sec">685</a>, <a href="/laws/target/ref-title-this/877" class="sec">877</a>, <a href="/laws/target/ref-title-this/877A" class="sec">877A</a>, <a href="/laws/target/ref-title-this/911" class="sec">911</a>, <a href="/laws/target/ref-title-this/2032A" class="sec">2032A</a>, <a href="/laws/target/ref-title-this/2503" class="sec">2503</a>, <a href="/laws/target/ref-title-this/2523" class="sec">2523</a>, <a href="/laws/target/ref-title-this/2631" class="sec">2631</a>, <a href="/laws/target/ref-title-this/4001" class="sec">4001</a>, <a href="/laws/target/ref-title-this/4003" class="sec">4003</a>, <a href="/laws/target/ref-title-this/4161" class="sec">4161</a>, <a href="/laws/target/ref-title-this/4261" class="sec">4261</a>, <a href="/laws/target/ref-title-this/6012" class="sec">6012</a>, <a href="/laws/target/ref-title-this/6013" class="sec">6013</a>, <a href="/laws/target/ref-title-this/6033" class="sec">6033</a>, <a href="/laws/target/ref-title-this/6039F" class="sec">6039F</a>, <a href="/laws/target/ref-title-this/6323" class="sec">6323</a>, <a href="/laws/target/ref-title-this/6334" class="sec">6334</a>, <a href="/laws/target/ref-title-this/6601" class="sec">6601</a>, <a href="/laws/target/ref-title-this/7430" class="sec">7430</a>, and <a href="/laws/target/ref-title-this/7702B" class="sec">7702B</a> of <a href="/laws/target/ref-title-this/">this title</a> for certain years were contained in the following: ',
                   '(II) the greater of the amount described in subclause (I) or, if the child itemizes his deductions for the taxable year, the amount of the itemized deductions allowed by this <a href="/laws/target/ref-title-this/ref-chapter-this/>chapter</a> for the taxable year which are directly connected with the production of the portion of adjusted gross income referred to in clause (i).',]

        for i in range(0, len(test_strings)):
            r = autoparser.parse(test_strings[i])[0]
            self.assertEqual(r, results[i])

if __name__ == '__main__':
    unittest.main()
